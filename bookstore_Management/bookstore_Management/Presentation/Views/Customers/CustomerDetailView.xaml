<UserControl x:Class="bookstore_Management.Views.Customers.CustomerDetailView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Background="#E9E9F4" >

    <Border Background="White"
            CornerRadius="15"
            Padding="20"
            Margin="10,10,10,10">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Tiêu đề -->
            <TextBlock Text="Chi tiết khách hàng"
                       FontFamily="/Presentation/AppResources/Fonts/#Quicksand"
                       FontSize="18"
                       FontWeight="Bold"
                       Foreground="#585AB8"
                       Margin="0,0,0,10"/>

            <!-- Nội dung -->
            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="95*"/>
                    <ColumnDefinition Width="121*"/>
                </Grid.ColumnDefinitions>

                <!-- Thông tin cơ bản -->
                <StackPanel Grid.Column="0" Margin="0,0,20,0">
                    <TextBlock Text="Mã khách hàng" FontWeight="SemiBold" FontFamily="Quicksand"/>
                    <TextBlock Text="{Binding MaKH}" Margin="0,0,0,10"/>

                    <TextBlock Text="Tên khách hàng" FontWeight="SemiBold" FontFamily="Quicksand"/>
                    <TextBlock Text="{Binding TenKH}" Margin="0,0,0,10"/>

                    <TextBlock Text="Số điện thoại" FontWeight="SemiBold" FontFamily="Quicksand"/>
                    <TextBlock Text="{Binding SDT}" Margin="0,0,0,10"/>

                    <TextBlock Text="Email" FontWeight="SemiBold" FontFamily="Quicksand"/>
                    <TextBlock Text="{Binding Email}" Margin="0,0,0,10"/>
                </StackPanel>

                <!-- Thông tin thành viên + thống kê -->
                <StackPanel Grid.Column="1">
                    <TextBlock Text="Địa chỉ" FontWeight="SemiBold" FontFamily="Quicksand"/>
                    <TextBlock Text="{Binding DiaChi}" TextWrapping="Wrap" Margin="0,0,0,10"/>

                    <TextBlock Text="Hạng thành viên" FontWeight="SemiBold" FontFamily="Quicksand"/>
                    <TextBlock Text="{Binding HangThanhVien}" Margin="0,0,0,10"/>

                    <TextBlock Text="Tổng doanh thu" FontWeight="SemiBold" FontFamily="Quicksand"/>
                    <TextBlock Text="{Binding TongDoanhThu, StringFormat={}{0:N0}}" Margin="0,0,0,10"/>

                    <TextBlock Text="Điểm tích lũy" FontWeight="SemiBold" FontFamily="Quicksand"/>
                    <TextBlock Text="{Binding TongSoDonHang}" Margin="0,0,0,10"/>
                </StackPanel>
            </Grid>

            <!-- Lịch sử mua hàng tiêu đề -->
            <TextBlock Grid.Row="2"
                       TextWrapping="Wrap" 
                       Text="Lịch sử mua hàng" 
                       Foreground="#585AB8" 
                       FontFamily="/Presentation/AppResources/Fonts/#Quicksand SemiBold" 
                       FontSize="14" FontWeight="Bold"
                       Margin="0,0,0,10"/>

            <!-- Lịch sử mua hàng bảng -->
            <DataGrid x:Name="dgHistories"
                      AutoGenerateColumns="False"
                      ItemsSource="{Binding Histories}"
                      CanUserAddRows="False"
                      HeadersVisibility="Column"
                      IsReadOnly="True"
                      Margin="0,26,0,0"
                      Grid.Row="2">
                <DataGrid.Resources>
                    <Style TargetType="DataGridColumnHeader">
                        <Setter Property="HorizontalContentAlignment" Value="Center"/>
                    </Style>
                </DataGrid.Resources>
                <DataGrid.Columns>
                    <DataGridTextColumn Header="STT" Binding="{Binding STT}" Width="49*" />
                    <DataGridTextColumn Header="Mã hóa đơn" Binding="{Binding MaHD}" Width="92*" />
                    <DataGridTextColumn Header="Tổng tiền" Binding="{Binding TongTien}" Width="181*" />
                    <DataGridTextColumn Header="Ngày mua hàng" Binding="{Binding NgayMuaHang}" Width="186*" />
                    <DataGridTextColumn Header="Ghi chú" Binding="{Binding GhiChu}" Width="140*" />
                </DataGrid.Columns>
            </DataGrid>
        </Grid>
    </Border>
</UserControl>
